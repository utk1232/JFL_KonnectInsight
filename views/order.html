<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Web site created using create-react-app" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <title>Try</title>
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/public/css/order.css">
</head>

<body>
 
    <form id="orderlist">
        <div class="container-fluid">
            <div class="choice_container">
                <div class="property-default">
                    <div class="frame">
                        <p class="text-wrapper">Please select the order for which you want to give feedback</p>
                    </div>
                    <div class="div">
                        <div class="frame-2" id="orderContainer">
                        </div>
                        <div class="frame-wrapper">
                            <div class="frame-7">
                                <div class="frame-8">
                                    <div class="frame-9">
                                        <div class="text-wrapper-2">Date of order</div>
                                        <div class="text-wrapper-3">13 Jul 2023</div>
                                    </div>
                                    <div class="frame-9">
                                        <div class="text-wrapper-2">Time of order</div>
                                        <div class="text-wrapper-3">17:15:07</div>
                                    </div>
                                    <div class="frame-9">
                                        <div class="text-wrapper-2">Order Total</div>
                                        <div class="text-wrapper-3">₹1,671.00</div>
                                    </div>
                                </div>
                                <div class="frame-10">
                                    <div class="text-wrapper-4">Total number of items:</div>
                                    <div class="text-wrapper-5">8</div>
                                </div>
                                <div class="frame-11">
                                    <div class="frame-12">
                                        <div class="text-wrapper-6">Item</div>
                                        <div class="text-wrapper-7">Quantity</div>
                                    </div>
                                    <div class="frame-13">
                                        <div class="text-wrapper-8">The 4 Cheese Pizza</div>
                                        <div class="text-wrapper-9">1</div>
                                    </div>
                                    <div class="frame-13">
                                        <div class="text-wrapper-8">The 4 Cheese Pizza</div>
                                        <div class="text-wrapper-9">1</div>
                                    </div>
                                    <div class="frame-13">
                                        <div class="text-wrapper-8">The 4 Cheese Pizza</div>
                                        <div class="text-wrapper-9">1</div>
                                    </div>
                                    <div class="frame-13">
                                        <div class="text-wrapper-8">Ginger Pizza</div>
                                        <div class="text-wrapper-9">4</div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="frame-14">
                        <div class="div-wrapper">
                            <div class="text-wrapper-10" onclick="showorderSelection()">In-Store Order</div>
                        </div>
                        <div class="frame-15">
                            <div class="text-wrapper-12" onclick="the4pizza()">Select and Proceed</div>
                            <img class="vector" src="img/vector.svg" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <script>
        function pizza() {
            window.location.href = "http://localhost:3000/the4CheesePizza";
        }


        // function getApi() {
        //     const url = "https://ext-s2-labs.dominosindia.in/zendesk/order-service/ve3/orders?page=1&pageSize=10";

        //     fetch(url)
        //         .then(response => {
        //             return response.json();
        //         })
        //         .then(data => {
        //             console.log("API Data:", data);
        //         })
        // }
        // getApi();

        const ordersData = [
            { id: "436564", name: "The 4 Cheese33 Pizza", details: "+ 7 other items", date: "13 Jul 2023", time: "17:15:07", total: "₹1,671.00" },
            { id: "43325", name: "Garlic Bread", details: "+ 13 other items", date: "13 Jul 2023", time: "17:15:07", total: "₹1,671.00" },
            { id: "65445", name: "Garlic Bread", details: "+ 3 other items", date: "13 Jul 2023", time: "17:15:07", total: "₹1,671.00" },
            { id: "45674", name: "The 4 Cheese Pizza", details: "+ 3 other items", date: "13 Jul 2023", time: "17:15:07", total: "₹1,671.00" },
            { id: "54334", name: "Garlic Bread", details: "+ 3 other items", date: "15 Jul 2023", time: "17:15:07", total: "₹1,671.00" },
            { id: "24334", name: "Garlic Pizza", details: "+ 3 other items", date: "16 June 2023", time: "17:15:07", total: "₹1,671.00" },
        ];



        function generateOrderHTML(order, i) {
            let className = i === 0 ? 'highlight' : '';

            return `
      <div class="frame-6 ${className} OrderName" data-id="${order.id}" onclick="selectOrder('${order.id}', event)">
        <div class="frame-4">
          <div class="text-wrapper-2">Order ${order.id}</div>
          <p class="p">${order.name}<br />${order.details}</p>
          <div class="frame-5">
            <div class="text-wrapper-2">${order.date}</div>
            <img class="line" src="img/line-21.svg" />
            <div class="text-wrapper-2">${order.time}</div>
            <img class="line" src="img/line-22.svg" />
            <div class="text-wrapper-2">${order.total}</div>
          </div>
        </div>
        <img class="vector" src="img/vector-5.svg" />
      </div>
    `;
        }

        const orderContainer = document.getElementById("orderContainer");

        ordersData.forEach((order, index) => {
            orderContainer.innerHTML += generateOrderHTML(order, index);
        });

        function selectOrder(orderId, e) {
            console.log('working', e.target);
            const previous = document.querySelectorAll('.OrderName');

            previous.forEach(element => {
                element.classList.remove('highlight');
            });

            previous.forEach(element => {
                if (element.dataset.id == orderId) {
                    element.classList.add('highlight');
                    getDataByClasses(orderId);
                }
            });
        }
       
    </script>

</body>

</html>